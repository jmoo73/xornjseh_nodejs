(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports={BeltButton:"RoundButton_BeltButton__2N8-C",BeltButtonBig:"RoundButton_BeltButtonBig__2GXV1",nameButtonBig:"RoundButton_nameButtonBig__2IB5M",BeltChosen:"RoundButton_BeltChosen__3rfug",BtnPressed:"RoundButton_BtnPressed__2zNo5",NameChosen:"RoundButton_NameChosen__3DMEU",turnOff:"RoundButton_turnOff__3ghr4",biggerButton:"RoundButton_biggerButton__1BpJf",White:"RoundButton_White__29ojb",Tigertot:"RoundButton_Tigertot__3pR-G",Yellowstr:"RoundButton_Yellowstr__1SbhL",Yellow:"RoundButton_Yellow__2Hhex",Greenstr:"RoundButton_Greenstr__3pvDd",Green:"RoundButton_Green__3QqPh",Bluestr:"RoundButton_Bluestr__W63-M",Blue:"RoundButton_Blue__3nOCw",Redstr:"RoundButton_Redstr__MwRWd",Red:"RoundButton_Red__RogHV",Blackstr:"RoundButton_Blackstr__2oRe3",Bodon:"RoundButton_Bodon__14lgk",Black:"RoundButton_Black__3K5yE"}},,,,,,,function(e,t,a){e.exports={cellBase:"Cell_cellBase__3W4sz",dataCell:"Cell_dataCell__24yLF",headerCell:"Cell_headerCell__3szsf",title:"Cell_title__13E1-",number:"Cell_number__1N98T",titleCell:"Cell_titleCell__-AON4",activityTitleCell:"Cell_activityTitleCell__2pxzQ",activityCell:"Cell_activityCell__3dRR-",emptyCorner:"Cell_emptyCorner__33AFA",totalHeader:"Cell_totalHeader__2IPDf",totalCell:"Cell_totalCell__FTXBD"}},function(e,t,a){e.exports={squareButton:"SquareButton_squareButton__2i9RD",small:"SquareButton_small__2FOZg",flat:"SquareButton_flat__20RFa",one:"SquareButton_one__tZdM-",two:"SquareButton_two__JVf6C",three:"SquareButton_three__aGEFF",transparent:"SquareButton_transparent__3HPzd",today:"SquareButton_today__3Hvyd",test:"SquareButton_test__3P9ht",start:"SquareButton_start__D-cYF"}},function(e,t,a){e.exports={wrapper:"Calendar_wrapper__1IYHY",calendar:"Calendar_calendar__2j4Ao",week:"Calendar_week__39ByU",day:"Calendar_day__1cOX8",month:"Calendar_month__4vp4D",contentWrapper:"Calendar_contentWrapper__3ef9S",date:"Calendar_date__278Da",red:"Calendar_red__1blOj",attendance:"Calendar_attendance__2pSUb"}},function(e,t,a){e.exports={wrapper:"PersonalData_wrapper__2E9G5",title:"PersonalData_title__iOgOP",todayStartTest:"PersonalData_todayStartTest__3Sp9p",name:"PersonalData_name__2fHAr",today:"PersonalData_today__3WDYF",start:"PersonalData_start__TJiKY",test:"PersonalData_test__1rWCr",threeCalendars:"PersonalData_threeCalendars__2MHWO"}},function(e,t,a){e.exports={classBarWrapper:"ClassBar_classBarWrapper__1Z4Uv",classBars:"ClassBar_classBars__3dlP5",buttonClass:"ClassBar_buttonClass__1e5xl",buttonPink:"ClassBar_buttonPink__29nrF",spanInButton:"ClassBar_spanInButton__10Vs2",buttonClassPink:"ClassBar_buttonClassPink__1Jnfu",chosenClass:"ClassBar_chosenClass__2wCRv"}},,,,function(e,t,a){e.exports={formWrapper:"Dailylog_formWrapper__3jQfw",formBox:"Dailylog_formBox__UV2Qm",labelBox:"Dailylog_labelBox__vrXkW",inputBox:"Dailylog_inputBox__2cFSj",submitBtn:"Dailylog_submitBtn__2Kfww",dayLogBox:"Dailylog_dayLogBox__21Qo_",garoLine:"Dailylog_garoLine__3E_z3"}},function(e,t,a){e.exports={outerBox:"Updatemember_outerBox__2b3ur",buttonBox:"Updatemember_buttonBox__1fpP1",leftButton:"Updatemember_leftButton__1Lefr",rightButton:"Updatemember_rightButton__2tVbm",clicked:"Updatemember_clicked__mVkKk"}},function(e,t,a){e.exports={addMemberBox:"AddNewMember_addMemberBox__3lhaq",inputBox:"AddNewMember_inputBox__Jk7zJ",selBox:"AddNewMember_selBox__3GciQ",submitBtn:"AddNewMember_submitBtn__vB07e"}},,function(e,t,a){e.exports={tableWrapper:"WeeklyLogTableTable_tableWrapper__YdUbu",rowWrapper:"WeeklyLogTableTable_rowWrapper__3PTg8",dateRow:"WeeklyLogTableTable_dateRow__1Bgk9"}},,function(e,t,a){e.exports={Input:"Input_Input__3Qshe",Label:"Input_Label__2XWae",InputElement:"Input_InputElement__3cM_J",Invalid:"Input_Invalid__1yRRh"}},,,function(e,t,a){e.exports={wrapper:"NameSelect_wrapper__2wZVf",personWrapper:"NameSelect_personWrapper__1R7k2",buttonWrapper:"NameSelect_buttonWrapper__e0ej6",buttonMain:"NameSelect_buttonMain__GMYeh"}},function(e,t,a){e.exports={Button:"Button_Button__1-wL4",Success:"Button_Success__2zA9y",Danger:"Button_Danger__3GUDb",Submit:"Button_Submit__1P72-",confirmName:"Button_confirmName__11-lY",finalSubmit:"Button_finalSubmit__29bSV"}},function(e,t,a){e.exports={wrapper:"SmallClassButton_wrapper__2EY1P",smallClassButton:"SmallClassButton_smallClassButton__1uhMZ",chosenClass:"SmallClassButton_chosenClass__3Oz81"}},function(e,t,a){e.exports={Dropdown:"Dropdown_Dropdown__3312i",Close:"Dropdown_Close__1HUiu"}},,,function(e,t,a){e.exports={bGround:"Spinner_bGround__363Rl",pic:"Spinner_pic__-NFFF"}},function(e,t,a){e.exports={AuthHomeWrapper:"AuthHome_AuthHomeWrapper__q8zGo",checkInWrapper:"AuthHome_checkInWrapper__1iphb"}},function(e,t,a){e.exports={checkInWrapper:"CheckIn_checkInWrapper__1uFR-",dayBar:"CheckIn_dayBar__7pwsN"}},function(e,t,a){e.exports={wrapper:"WelcomeToClass_wrapper__1TjSz",text:"WelcomeToClass_text__5Nn7D"}},,,function(e,t,a){e.exports={currClass:"ChooseColor_currClass__1k-7j",optColor:"ChooseColor_optColor__1Zc5_"}},function(e,t,a){e.exports={attenderBox:"Attender_attenderBox__28LwT",buttonMain:"Attender_buttonMain__2Jt5j"}},function(e,t,a){e.exports={LineWrapper:"Line_LineWrapper__2S-_T",Line:"Line_Line__27EOI"}},function(e,t,a){e.exports={choiceBox:"ShowChosenNames_choiceBox__1IY5F",buttonBig:"ShowChosenNames_buttonBig__YlGw4"}},function(e,t,a){e.exports={updateWrapper:"UpdateBeltColor_updateWrapper__2VA4t",garoLineUpdate:"UpdateBeltColor_garoLineUpdate__2heAl"}},function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__2UAww",active:"NavigationItem_active__2RXYh"}},function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__1ar4p",DesktopOnly:"Toolbar_DesktopOnly__3O5f4"}},,,,,,,,,,,,function(e,t,a){e.exports={HomeWrapper:"Home_HomeWrapper__2rwku"}},function(e,t,a){e.exports=a.p+"static/media/spinner2.f8ee3a88.gif"},,function(e,t,a){e.exports={BackdropBlack:"BackDropBlack_BackdropBlack__2rCa_"}},function(e,t,a){e.exports={wrapper:"BeltSelect_wrapper__C4gbb"}},function(e,t,a){e.exports={whatday:"DayBar_whatday__1J0ts"}},function(e,t,a){e.exports={Auth:"Auth_Auth__3EunV"}},function(e,t,a){e.exports={loader:"Loader_loader__17s71"}},function(e,t,a){e.exports={membersWithABelt:"MembersWithBelt_membersWithABelt__f4MPF"}},function(e,t,a){e.exports={Modal:"Modal_Modal__3ldpW"}},function(e,t,a){e.exports={Backdrop:"BackDrop_Backdrop__2EiU7"}},function(e,t,a){e.exports={Modal:"ModalTransparent_Modal__cjBsC"}},function(e,t,a){e.exports={biggerBox:"ChooseBeltColor_biggerBox___pl5d"}},function(e,t,a){e.exports={membersWithBelt:"ChooseNames_membersWithBelt__35hi_"}},function(e,t,a){e.exports={ToggleButton:"ToggleButton_ToggleButton__23DxC"}},function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__2eoOy"}},,function(e,t,a){e.exports=a(111)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),s=a.n(l),o=(a(86),a(1)),c=a(2),i=a(4),u=a(3),p=a(7),d=(a(87),a(9)),m=a(64),h=a.n(m),_=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:h.a.HomeWrapper},r.a.createElement("h1",null,"Home"),r.a.createElement("h4",null,"since Apr 12, 2020")))},g=a(5),f=a.n(g),v=a(8),b=a(65),C=a.n(b),E=a(40),y=a.n(E),k=function(){return r.a.createElement("div",{className:y.a.bGround},r.a.createElement("img",{src:C.a,alt:"Loading...",className:y.a.pic}))},B=a(66),S=a.n(B).a.create({baseURL:"https://tkd-manager.herokuapp.com"}),T=function(e,t,a){return{type:"AUTH_SUCCESS",idToken:e,userId:t,email:a}},A=function(e){return{type:"AUTH_FAIL",error:e}},D=a(15),I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],O=["Mon","Tue","Wed","Thu","Fri","Sat"],x=["Tigertot","White","Yellowstr","Yellow","Greenstr","Green","Bluestr","Blue","Redstr","Red","Blackstr","Bodon","Black"],j=new Date,L=j.getFullYear(),G=L-1,R=j.getDay(),W=I[R],F=j.getMonth()+1+"/"+j.getDate()+"/"+j.getFullYear(),M=new Date(j.getFullYear(),0,0),H=j-M,U=(Math.floor(H/864e5),new Date("1/1/"+L).getDay()),Y=(I.slice(U,7).concat(I.slice(0,U)),new Date("1/1/"+G).getDay());I.slice(Y,7).concat(I.slice(0,Y)),P(L),P(G);function P(e){return e%400===0||e%100!==0&&e%4===0?366:365}V(L),V(G);function V(e){for(var t=[],a=e+1+"-01-02",n=new Date(e+"-01-02"),r=new Date(a);n<r;){var l=n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear()+" "+N[n.getDay()];t.push(l),n.setDate(n.getDate()+1)}return t}function z(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+I[e.getDay()]}var q=function(){return{type:"GGL_LOAD_START"}},J=function(){return{type:"GGL_LOAD_FINISH"}},X=function(e){return Object(D.a)({type:"GGL_LOAD_SUCCESS"},e)},Q=function(e){return{type:"SET_CURRENT_CLASS",currClass:e}},Z=function(e){return{type:"SET_CURRENT_BELT",currBelt:e}},K=function(e){return{type:"ADD_TO_CLASS_ATTENDER",id:e}},$=function(e,t,a){return function(){var n=Object(v.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:"GGL_SAVE_START"}),r({type:"UPDATE_PERSONS_WITH_CLASS_ATTENDER",ggleID:e,statsGglID:t,locationID:a}),r({type:"GGL_SAVE_FINISH"});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ee=function(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,l,s,o,c,i,u,p;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GGL_LOAD_START"}),t.next=3,S.post("/classTable",{ggleID:e});case 3:return n=t.sent,r=n.data,l=r.classTable,s=r.classNameTable,o=l[W],t.next=8,S.post("/gglThisYear/init-persons",{ggleID:e,classToday:o});case 8:c=t.sent,i=c.data,u=i.persons,p=i.classAttender,a(X({persons:u,classAttender:p,classToday:o,classTable:l,classNameTable:s})),a({type:"GGL_LOAD_FINISH"});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},te=function(e,t){return{type:"UPDATE_ACTIVITY",currActivity:e,number:t}},ae=function(e,t){return{type:"STAT_LOAD_SUCCESS",dailyStat:e,keyList:t}},ne=a(41),re=a.n(ne),le=a(18),se=a.n(le),oe=function(e){var t=[se.a.squareButton];return"small"===e.size&&(t=[se.a.small],1===e.number&&t.push(se.a.one),2===e.number&&t.push(se.a.two),e.number>=3&&t.push(se.a.three),e.today&&t.push(se.a.today),e.test&&t.push(se.a.test),e.start&&t.push(se.a.start),e.transparent&&t.push(se.a.transparent)),"flat"===e.size&&t.push(se.a.flat),r.a.createElement("div",null,r.a.createElement("button",{className:t.join(" "),onClick:e.clicked},e.children))},ce=a(67),ie=a.n(ce),ue=function(e){return e.show?r.a.createElement("div",{className:ie.a.BackdropBlack,onClick:e.clicked}):null},pe=a(42),de=a.n(pe),me=a(43),he=a.n(me);var _e=function(e){return r.a.createElement("div",{className:he.a.wrapper},"Welcome to ",r.a.createElement("span",{className:he.a.text},e.cls)," class!")},ge=a(68),fe=a.n(ge),ve=a(10),be=a.n(ve);var Ce=function(e){var t=[];switch(e.type){case"belt":t=[be.a.BeltButton,be.a[e.beltColor]],e.chosen&&t.push(be.a.BeltChosen);break;case"beltBig":t=[be.a.BeltButtonBig,be.a[e.beltColor]],e.chosen&&t.push(be.a.BeltChosen);break;case"name":t=[be.a.BeltButton,be.a[e.beltColor]],e.chosen&&t.push(be.a.NameChosen),e.makeBiggerButton&&t.push(be.a.biggerButton);break;case"nameBig":t=[be.a.nameButtonBig,be.a[e.beltColor]],e.chosen&&t.push(be.a.NameChosen),e.makeBiggerButton&&t.push(be.a.biggerButton);break;case"namePressed":t=[be.a.BeltButton,be.a[e.beltColor],be.a.BtnPressed]}return r.a.createElement("div",null,r.a.createElement("button",{className:t.join(" "),onClick:e.clicked},e.children))},Ee=a(34),ye=a.n(Ee),ke=a(35),Be=a.n(ke),Se=function(e){var t=[Be.a.Button,Be.a[e.btnType],Be.a[e.showClicked]];return r.a.createElement("button",{disabled:e.disabled,className:t.join(" "),onClick:e.clicked},e.children)},Te=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={id:null,fullName:null,beltColor:null},e.nameChosen=function(t,a,n){e.setState({id:t,fullName:a,beltColor:n})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.attender.map((function(e){return e[1]})),a=r.a.createElement("div",{className:ye.a.personWrapper},this.props.persons.map((function(a){return r.a.createElement(Ce,{type:"nameBig",key:a.id,makeBiggerButton:e.state.id===a.id,chosen:t.includes(a.id)||e.props.currBelt!==a.belt,beltColor:a.belt,clicked:function(){return e.nameChosen(a.id,a.name,a.belt)}},a.name.split(" ")[0])}))),n=null;return null!==this.state.id&&this.props.currBelt===this.state.beltColor&&(n=r.a.createElement("div",{className:ye.a.buttonWrapper},r.a.createElement(Se,{btnType:"confirmName",renderClickedState:!0,clicked:function(){return e.props.nameClicked(e.state.id,e.state.fullName)}},this.state.fullName,", correct?"))),r.a.createElement("div",{className:ye.a.wrapper},a,n)}}]),a}(n.Component),Ae=function(e){var t=r.a.createElement("div",{className:fe.a.wrapper},x.map((function(t){return r.a.createElement(Ce,{key:t,type:"beltBig",beltColor:t,chosen:e.currBelt===t,clicked:function(){return e.beltClicked(t)}})}))),a=e.beltState?r.a.createElement(Te,{persons:e.persons,nameClicked:e.nameClicked,currBelt:e.currBelt,attender:e.attender}):null;return r.a.createElement(r.a.Fragment,null,t,a)},De=a(36),Ie=a.n(De);var we=function(e){var t=r.a.createElement("div",{className:Ie.a.wrapper},e.classToday.map((function(t){var a=[Ie.a.smallClassButton];return""===t[1]?null:(t[1]===e.currClass&&a.push(Ie.a.chosenClass),r.a.createElement("button",{key:t[1],className:a.join(" "),onClick:function(){return e.whenClassClicked(t[1])}},t[1]))})));return r.a.createElement(r.a.Fragment,null,t)},Ne=a(20),Oe=a.n(Ne),xe=a(19),je=a.n(xe),Le=function(e){var t=r.a.createElement("div",{className:je.a.month},e.month),a=r.a.createElement("div",{className:je.a.week},N.map((function(e){var t=[je.a.day];return"Sun"===e&&t.push(je.a.red),r.a.createElement(oe,{key:e,size:"flat"},r.a.createElement("div",{className:t.join(" ")},e))}))),n=r.a.createElement("div",{className:je.a.calendar},e.data.map((function(e){var t=e.date.split("/")[1],a=null,n=[],l=[je.a.date];return"Sunday"===e.day&&l.push(je.a.red),e.attendance&&(a=e.attendance.length,e.attendance.forEach((function(e){e.includes("Board")&&n.push("Board"),e.includes("Spar")&&n.push("Spar")}))),r.a.createElement(oe,{key:e.id,size:"small",number:e.needDataFetch?a:0,transparent:!e.needDataFetch,today:e.date===F,start:e.start,test:e.test},r.a.createElement("div",{className:je.a.contentWrapper},r.a.createElement("div",{className:l.join(" ")},t),r.a.createElement("div",{className:je.a.attendance},e.needDataFetch?n.join(" "):null)))})));return r.a.createElement("div",{className:je.a.wrapper},t,a,n)},Ge=function(e){var t=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Oe.a.today},F," ",W," (Today)"),r.a.createElement("div",{className:Oe.a.start},"Started on :"," ",e.persons[e.id].startedOn?e.persons[e.id].startedOn:"(unavailable)"),r.a.createElement("div",{className:Oe.a.test},"Last tested on :"," ",e.persons[e.id].testedOn?e.persons[e.id].testedOn:"(unavailable)")),a=e.personalAttendance.map((function(e){return r.a.createElement(Le,{key:e[0],month:e[0],data:e[1]})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Oe.a.wrapper},r.a.createElement("div",{className:Oe.a.title},"Attendance"),r.a.createElement("div",{className:Oe.a.name},e.persons[e.id].name),r.a.createElement("div",{className:Oe.a.todayStartTest},t),r.a.createElement("div",{className:Oe.a.threeCalendars},a),r.a.createElement(Se,{btnType:"finalSubmit",renderClickedState:!0,clicked:e.whenSubmitClick},"Confirm")))},Re=a(69),We=a.n(Re);var Fe=function(){return r.a.createElement("div",{className:We.a.whatday},F," ",W)},Me=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isNameChosen:!1,classState:null,beltState:null,id:null},e.nameClicked=function(){var t=Object(v.a)(f.a.mark((function t(a,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isNameChosen:!0,id:a}),t.next=3,e.props.whenClassClicked(e.state.classState);case 3:return t.next=5,e.props.nameClicked(a);case 5:return t.next=7,e.props.fetchPersonalAttendance(e.props.ggleID,e.props.lastYearGglID,n);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.whenSubmitClick=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.whenSubmitClicked(e.props.ggleID,e.props.statsGglID,e.props.locationID);case 2:e.setState({isNameChosen:!1,beltState:null,id:null});case 3:case"end":return t.stop()}}),t)}))),e.classStateChange=function(t){e.setState({classState:t})},e.beltClicked=function(t){e.setState({beltState:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=null;this.state.isNameChosen||(t=r.a.createElement("div",{className:de.a.checkInWrapper},r.a.createElement("div",{className:de.a.dayBar,onClick:this.props.backToAuthHome},r.a.createElement(Fe,null)),r.a.createElement(we,{whenClassClicked:function(t){return e.classStateChange(t)},classToday:this.props.classToday,currClass:this.state.classState}),this.state.classState?r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,{cls:this.state.classState}),r.a.createElement(Ae,{currBelt:this.state.beltState,beltClicked:this.beltClicked,nameClicked:this.nameClicked,persons:this.props.persons,beltState:this.state.beltState,attender:this.props.classAttender[this.state.classState]})):null));var a=null;return this.state.isNameChosen&&(a=0!==this.props.personalAttendance.length?r.a.createElement(Ge,{personalAttendance:this.props.personalAttendance,whenSubmitClick:this.whenSubmitClick,persons:this.props.persons,id:this.state.id}):r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("h3",null,"Fetching personal attendance data..."))),r.a.createElement(r.a.Fragment,null,t,a,this.props.saving?r.a.createElement(k,null):null)}}]),a}(n.Component),He=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={checkInScreen:!1},e.goToCheckInScreen=function(){e.setState({checkInScreen:!0})},e.backToAuthHome=function(){e.setState({checkInScreen:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.dataLoaded||!this.props.isAuthenticated||!R){e.next=5;break}return e.next=3,this.props.onStats(this.props.statsGglID,this.props.locationID);case 3:return e.next=5,this.props.onGgl(this.props.ggleID);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement(Me,{currClass:this.props.currClass,currBelt:this.props.currBelt,classAttender:this.props.classAttender,classToday:this.props.classToday,persons:this.props.persons,whenClassClicked:this.props.whenClassClicked,nameClicked:this.props.whenNameClicked,beltClicked:this.props.whenBeltClicked,fetchPersonalAttendance:this.props.fetchPersonalAttendance,personalAttendance:this.props.personalAttendance,whenSubmitClicked:this.props.whenSubmitClicked,saving:this.props.gglSaving,backToAuthHome:this.backToAuthHome,loading:this.props.gglLoading,ggleID:this.props.ggleID,statsGglID:this.props.statsGglID,locationID:this.props.locationID,lastYearGglID:this.props.lastYearGglID}),t=null;R&&(t=r.a.createElement(oe,{clicked:this.goToCheckInScreen},"Individual check-in"));var a=null;return(this.props.statsLoading||this.props.gglLoading)&&(a=r.a.createElement(k,null)),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:re.a.AuthHomeWrapper},a,r.a.createElement("h1",null,"AuthHome"),r.a.createElement("h4",null,"since Apr 12, 2020"),t,r.a.createElement(ue,{show:this.state.checkInScreen}),r.a.createElement("div",{className:re.a.checkInWrapper},this.state.checkInScreen?e:null)))}}]),a}(n.Component),Ue=Object(d.b)((function(e){return{dataLoaded:e.ggl.dataLoaded,gglLoading:e.ggl.loading,statsLoading:e.stats.loading,isAuthenticated:null!==e.auth.token,personalAttendance:e.ggl.personalAttendance,currClass:e.ggl.currClass,currBelt:e.ggl.currBelt,classToday:e.ggl.classToday,persons:e.ggl.persons,gglSaving:e.ggl.saving,classAttender:e.ggl.classAttender,ggleID:e.auth.ggleID,statsGglID:e.auth.statsGglID,locationID:e.auth.locationID,lastYearGglID:e.auth.lastYearGglID,authLoading:e.auth.loading}}),(function(e){return{onGgl:function(t){return e(ee(t))},onStats:function(t,a){return e(function(e,t){return function(){var a=Object(v.a)(f.a.mark((function a(n){var r,l,s,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"STAT_LOAD_START"}),a.next=3,S.post("/gglStats/init",{statsGglID:e,locationID:t});case 3:r=a.sent,l=r.data,s=l.dailyStat,o=l.keyList,n(ae(s,o)),n({type:"STAT_LOAD_FINISH"});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},fetchPersonalAttendance:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(v.a)(f.a.mark((function n(r){var l,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(q),n.next=3,S.post("/gglThisYear/personal-attendance",{ggleID:e,lastYearGglID:t,fullName:a});case 3:l=n.sent,s=l.data.personalAttendance,r(X({personalAttendance:s})),r(J);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},whenSubmitClicked:function(t,a,n){return e($(t,a,n))},whenNameClicked:function(t){return e(K(t))},whenBeltClicked:function(t){return e(Z(t))},whenClassClicked:function(t){return e(Q(t))}}}))(He),Ye=a(23),Pe=function(e,t){return Object(D.a)({},e,{},t)},Ve=function(e,t){var a=!0;if(!t)return!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}if(t.isNumeric){a=/^\d+$/.test(e)&&a}return a},ze=a(31),qe=a.n(ze),Je=function(e){var t=null,a=[qe.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(qe.a.Invalid),e.elementType){case"input":t=r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=r.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return r.a.createElement("div",{className:qe.a.Input},r.a.createElement("label",{className:qe.a.Label},e.label),t)},Xe=a(70),Qe=a.n(Xe),Ze=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}},e.onChangeHandler=function(t,a){var n=Pe(e.state.controls,Object(Ye.a)({},a,Pe(e.state.controls[a],{value:t.target.value,valid:Ve(t.target.value,e.state.controls[a].validation),touched:!0})));e.setState({controls:n})},e.submitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.controls.email.value,e.state.controls.password.value)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map((function(t){return r.a.createElement(Je,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(a){return e.onChangeHandler(a,t.id)}})}));this.props.loaing&&(n=r.a.createElement(k,null));var l=null;this.props.error&&(l=r.a.createElement("p",null,this.props.error.message));var s=null;return this.props.isAuthenticated&&(s=r.a.createElement(p.a,{to:this.props.authRedirectPath})),r.a.createElement("div",{className:Qe.a.Auth},s,l,n,r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement(Se,{btnType:"Success"},"SUBMIT")))}}]),a}(n.Component),Ke=Object(d.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onAuth:function(t,a){return e(function(e,t){return function(){var a=Object(v.a)(f.a.mark((function a(n){var r,l,s,o,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"AUTH_START"}),r={email:e,password:t,returnSecureToken:!0},a.next=4,S.post("/auth/login",{authData:r});case 4:(l=a.sent).data.error?n(A(l.data.error)):l.data.message?n(A({message:l.data.message})):(s=l.data,o=s.authSuccess,c=s.fetchSuccess,n((i=c.ggleID,u=c.statsGglID,p=c.location,d=c.locationID,m=c.lastYearGglID,{type:"GGL_ID_FETCH_SUCCESS",ggleID:i,statsGglID:u,location:p,locationID:d,lastYearGglID:m})),n(T(o.idToken,o.userId,o.email)));case 6:case"end":return a.stop()}var i,u,p,d,m}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(Ze),$e=a(25),et=a.n($e),tt=a(21),at=a.n(tt),nt=a(71),rt=a.n(nt);var lt=function(){return r.a.createElement("div",{className:rt.a.loader},r.a.createElement("h3",null,"Loading..."))},st=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classToday.map((function(t,a){var n=[at.a.buttonClass],l=t[1];return l?(l===e.props.currClass&&n.push(at.a.chosenClass),r.a.createElement("button",{className:n.join(" "),key:a,onClick:function(){e.props.clickedClass(l)}},l,r.a.createElement("span",{className:at.a.spanInButton},r.a.createElement("strong",null,e.props.classAttender[l].length)))):null})),a=this.props.keyList.map((function(t,a){var n=at.a.buttonClass+" "+at.a.buttonPink;return a<4?r.a.createElement("button",{className:n,key:t,onClick:function(){return e.props.clickedActivity(t)}},t,r.a.createElement("span",{className:at.a.spanInButton},r.a.createElement("strong",null,e.props.dailyStat[t]))):null}));return void 0===this.props.classToday||0===this.props.classToday.length?r.a.createElement(lt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:at.a.classBarWrapper},r.a.createElement(Fe,null),r.a.createElement("div",{className:at.a.classBars},t,a)))}}]),a}(n.Component),ot=a(46),ct=a.n(ot),it=a(72),ut=a.n(it),pt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.currClassAttender.map((function(e){return e[1]})),a=this.props.persons.map((function(a){return r.a.createElement(Ce,{type:"name",key:a.id,chosen:a.belt!==e.props.currBelt||t.includes(a.id),beltColor:a.belt,clicked:function(){return e.props.clicked(a.id)}},a.name.split(" ")[0])}));return void 0===this.props.persons||0===this.props.persons.length?r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(lt,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ut.a.membersWithABelt}," ",a," "))}}]),a}(n.Component),dt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:ct.a.currClass},r.a.createElement("h5",null,this.props.currClass)),a=r.a.createElement("div",{className:ct.a.optColor},x.map((function(t,a){return r.a.createElement(Ce,{type:"belt",key:a,beltColor:t,chosen:e.props.currBelt===t,clicked:function(){return e.props.clickedBelt(t)}})})));return void 0===this.props.persons||0===this.props.persons.length?r.a.createElement(lt,null):r.a.createElement(r.a.Fragment,null,t,a,r.a.createElement(pt,{persons:this.props.persons,currClassAttender:this.props.currClassAttender,currBelt:this.props.currBelt,clicked:this.props.clickedMember}))}}]),a}(n.Component),mt=a(47),ht=a.n(mt),_t=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.currClassAttender.map((function(t){return r.a.createElement(Ce,{type:"namePressed",key:t[1],beltColor:t[0],clicked:function(){return e.props.clickedAttender(t[1])}},e.props.persons[t[1]].name.split(" ")[0])})),a=r.a.createElement("button",{className:ht.a.buttonMain,type:"button",onClick:function(){return e.props.clickedSubmit(e.props.ggleID,e.props.statsGglID,e.props.locationID)}},r.a.createElement("span",{style:{fontSize:"23px",color:"black"}},r.a.createElement("strong",null,this.props.currClassAttender.length)),r.a.createElement("span",{style:{fontSize:"15px"}},this.props.currClass));return void 0===this.props.persons||0===this.props.persons.length?r.a.createElement(lt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ht.a.attenderBox},t,a))}}]),a}(n.Component),gt=a(73),ft=a.n(gt),vt=a(74),bt=a.n(vt),Ct=function(e){return e.show?r.a.createElement("div",{className:bt.a.Backdrop,onClick:e.clicked}):null},Et=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,{show:this.props.show,clicked:this.props.clicked}),r.a.createElement("div",{className:ft.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),a}(n.Component),yt=a(75),kt=a.n(yt),Bt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,{show:this.props.show,clicked:this.props.clicked}),r.a.createElement("div",{className:kt.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),a}(n.Component),St=a(48),Tt=a.n(St);var At=function(){return r.a.createElement("div",{className:Tt.a.LineWrapper},r.a.createElement("div",{className:Tt.a.Line}))},Dt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={number:0},e.whenActivityClicked=function(t){e.setState({number:e.props.dailyStat[t]}),e.props.clickedActivity(t)},e.changeState=function(t){e.setState({number:t.target.value})},e.submitHandler=function(t){t.preventDefault(),e.props.clickedActivitySubmit(e.props.statsGglID,e.props.locationID,e.props.currActivity,e.state.number)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=null;this.props.statsSaving&&(t=r.a.createElement(k,null));var a=null;this.props.gglSaving&&(a=r.a.createElement(k,null));var n=r.a.createElement(st,{classToday:this.props.classToday,currClass:this.props.currClass,clickedClass:this.props.clickedClass,classAttender:this.props.classAttender,dailyStat:this.props.dailyStat,keyList:this.props.keyList,clickedActivity:this.whenActivityClicked}),l=r.a.createElement(dt,{currBelt:this.props.currBelt,persons:this.props.persons,currClassAttender:this.props.classAttender[this.props.currClass],clickedMember:this.props.clickedMember,clickedBelt:this.props.clickedBelt,currClass:this.props.currClass}),s=r.a.createElement(_t,{currClass:this.props.currClass,currClassAttender:this.props.classAttender[this.props.currClass],persons:this.props.persons,clickedAttender:this.props.clickedAttender,clickedSubmit:this.props.clickedAttenderSubmit,ggleID:this.props.ggleID,statsGglID:this.props.statsGglID,locationID:this.props.locationID}),o=r.a.createElement("div",{className:et.a.formWrapper},r.a.createElement("form",{className:et.a.formBox,onSubmit:this.submitHandler},r.a.createElement("div",{className:et.a.labelBox},this.props.currActivity),r.a.createElement("div",{className:et.a.inputBox},r.a.createElement("input",{key:this.props.currActivity,value:this.state.number,name:this.props.currActivity,onChange:this.changeState,autoComplete:"off"})),r.a.createElement("input",{className:et.a.submitBtn,type:"submit",value:"Submit"})));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:et.a.dayLogBox},n,r.a.createElement(Et,{show:this.props.currClass&&!this.props.gglSaving,clicked:function(){e.props.attenderTouched?alert("Contents modified. Press submit button before leaving."):e.props.resetCurrClass()}},this.props.currClass?l:null,r.a.createElement(At,null),this.props.currClass?s:null),a,r.a.createElement(Bt,{show:this.props.currActivity&&!this.props.statsSaving,clicked:function(){e.setState({number:e.props.dailyStat[e.props.currActivity]}),e.props.initActivity()}},this.props.currActivity&&!this.props.statsSaving?o:null),t))}}]),a}(n.Component),It=Object(d.b)((function(e){return{currClass:e.ggl.currClass,currBelt:e.ggl.currBelt,classToday:e.ggl.classToday,classAttender:e.ggl.classAttender,currClassID:e.ggl.currClassID,persons:e.ggl.persons,gglSaving:e.ggl.saving,attenderTouched:e.ggl.attenderTouched,dailyStat:e.stats.dailyStat,currActivity:e.stats.currActivity,keyList:e.stats.keyList,statsSaving:e.stats.saving,ggleID:e.auth.ggleID,statsGglID:e.auth.statsGglID,locationID:e.auth.locationID}}),(function(e){return{resetCurrClass:function(){return e({type:"RESET_CURRCLASS"})},clickedClass:function(t){return e(Q(t))},clickedAttender:function(t){return e(function(e){return{type:"REMOVE_FROM_CLASS_ATTENDER",id:e}}(t))},clickedAttenderSubmit:function(t,a,n){return e($(t,a,n))},clickedBelt:function(t){return e(Z(t))},clickedMember:function(t){return e(K(t))},clickedActivity:function(t){return e(function(e){return{type:"SET_CURRENT_ACTIVITY",currActivity:e}}(t))},clickedActivitySubmit:function(t,a,n,r){return e(function(e,t,a,n){return function(){var r=Object(v.a)(f.a.mark((function r(l){var s;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l({type:"STAT_SAVE_START"}),s={statsGglID:e,locationID:t,name:a,number:n},r.next=4,S.post("/gglStats/submit",s);case 4:l(te(a,n)),l({type:"STAT_SAVE_FINISH"});case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,a,n,r))},initActivity:function(){return e({type:"INIT_ACTIVITY"})}}}))(Dt),wt=a(29),Nt=a.n(wt),Ot=a(17),xt=a.n(Ot);var jt=function(e){var t=[xt.a.cellBase];return"titleCell"===e.type&&t.push(xt.a.titleCell),"dataCell"===e.type&&t.push(xt.a.dataCell),"headerCell"===e.type&&t.push(xt.a.headerCell),"emptyCorner"===e.type&&t.push(xt.a.emptyCorner),"activityCell"===e.type&&t.push(xt.a.activityCell),"activityTitleCell"===e.type&&t.push(xt.a.activityTitleCell),"totalHeader"===e.type&&t.push(xt.a.totalHeader),"totalCell"===e.type&&t.push(xt.a.totalCell),r.a.createElement("div",{className:t.join(" ")},r.a.createElement("div",{className:xt.a.title},"activityCell"!==e.type?e.title:null),r.a.createElement("div",{className:xt.a.number},e.title?e.number:null))},Lt=function(e){var t=[];e.setDate(e.getDate()-e.getDay()+1);for(var a=0;a<6;a++)t.push(z(e)),e.setDate(e.getDate()+1);return t}(new Date);var Gt=function(e){var t=r.a.createElement("div",{className:Nt.a.dateRow},"[",Lt[0]," ~ ",Lt[5],"]"),a=r.a.createElement("div",{className:Nt.a.rowWrapper},r.a.createElement(jt,{type:"emptyCorner"}),O.map((function(e,t){return r.a.createElement(jt,{key:t,type:"headerCell",title:e})}))),n=[];e.keyList.forEach((function(t,a){return n.push(r.a.createElement("div",{key:a,className:Nt.a.rowWrapper},r.a.createElement(jt,{type:a<4?"activityTitleCell":"titleCell",title:t}),w.map((function(t,n){return r.a.createElement(jt,{key:n,type:a<4?"activityCell":"dataCell",title:e.classTable[t][a],number:e.statsTable[t][a]})}))))}));var l=r.a.createElement("div",{className:Nt.a.rowWrapper},r.a.createElement(jt,{type:"totalHeader",title:"Total"}),w.map((function(t,a){var n=e.statsTable[t].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0);return r.a.createElement(jt,{key:a,type:"totalCell",title:n})})));return void 0===e.classTable||void 0===e.statsTable?r.a.createElement(k,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Nt.a.tableWrapper},t,a,n,l))},Rt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={statsTable:{},loading:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post("/gglStats/weekly-table",{statsGglID:this.props.statsGglID,locationID:this.props.locationID,keyList:this.props.keyList});case 2:t=e.sent,this.setState({statsTable:t.data.statsTable,loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,this.state.loading?r.a.createElement(k,null):r.a.createElement(Gt,{keyList:this.props.keyList,statsTable:this.state.statsTable,classTable:this.props.classNameTable})))}}]),a}(n.Component),Wt=Object(d.b)((function(e){return{keyList:e.stats.keyList,classNameTable:e.ggl.classNameTable,statsGglID:e.auth.statsGglID,locationID:e.auth.locationID}}))(Rt),Ft=a(26),Mt=a.n(Ft),Ht=a(27),Ut=a.n(Ht),Yt=new Date,Pt=Yt.getMonth()+1+"/"+Yt.getDate()+"/"+Yt.getFullYear(),Vt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={newMember:{Name:"",Beltcolor:""},nameError:"",beltError:""},e.addToSheet=function(){var t="",a="";e.state.newMember.Name||(t="Name is needed!"),e.state.newMember.Beltcolor||(a="Choose the belt color!"),t||a?(e.setState({nameError:t}),e.setState({beltError:a})):(e.saveToSheet(),e.setState({nameError:""}),e.setState({beltError:""}))},e.saveToSheet=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.resetButtons("startSaving"),e.state.newMember[Pt]="!Start["+e.state.newMember.Beltcolor+"]",e.state.newMember.StartedOn=Pt,t.next=5,S.post("/gglThisYear/add-new-member",{ggleID:e.props.ggleID,newMember:e.state.newMember});case 5:return t.next=7,e.props.onGgl(e.props.ggleID);case 7:e.setState({newMember:{Name:"",Beltcolor:""}}),e.props.resetButtons("finishSaving");case 9:case"end":return t.stop()}}),t)}))),e.onChangeName=function(t){t.preventDefault(),e.setState({newMember:Object(D.a)({},e.state.newMember,{Name:t.target.value})})},e.onChoiceBelt=function(t){t.preventDefault(),e.setState({newMember:Object(D.a)({},e.state.newMember,{Beltcolor:t.target.value})})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ut.a.addMemberBox},r.a.createElement("div",{className:Ut.a.layerOne},r.a.createElement("input",{className:Ut.a.inputBox,type:"text",onChange:this.onChangeName,value:this.state.newMember.Name,placeholder:"Input full name!"}),r.a.createElement("select",{className:Ut.a.selBox,onChange:this.onChoiceBelt,value:this.state.newMember.Beltcolor},r.a.createElement("option",null,"Select a belt color"),x.map((function(e,t){return r.a.createElement("option",{key:t+1,value:e},e)})))),r.a.createElement("div",null,this.state.nameError&&r.a.createElement("div",{style:{color:"red",fontSize:"18px"}},"* ",this.state.nameError),this.state.beltError&&r.a.createElement("div",{style:{color:"red",fontSize:"18px"}},"* ",this.state.beltError)),r.a.createElement("div",{className:Ut.a.layerTwo},r.a.createElement("button",{className:Ut.a.submitBtn,onClick:this.addToSheet},"Register"))))}}]),a}(n.Component),zt=Object(d.b)((function(e){return{ggleID:e.auth.ggleID}}),(function(e){return{onGgl:function(t){return e(ee(t))}}}))(Vt),qt=a(76),Jt=a.n(qt);var Xt=function(e){var t=x.map((function(t){return r.a.createElement(Ce,{type:"belt",beltColor:t,chosen:t===e.currBeltColor,key:t,clicked:function(){return e.clicked(t)}},t)}));return r.a.createElement("div",{className:Jt.a.biggerBox},t)},Qt=a(77),Zt=a.n(Qt);var Kt=function(e){var t=e.testees.map((function(e){return e[1]})),a=r.a.createElement("div",{className:Zt.a.membersWithBelt},e.persons.map((function(a){return r.a.createElement(Ce,{type:"name",chosen:a.belt!==e.currBeltColor||t.includes(a.id),beltColor:a.belt,key:a.id,clicked:function(){return e.clicked([a.belt,a.id],"add")}},a.name.split(" ")[0])})));return void 0===e.persons||0===e.persons.length?r.a.createElement(lt,null):r.a.createElement(r.a.Fragment,null,a)},$t=a(49),ea=a.n($t);var ta=function(e){var t=e.testees.map((function(t){return r.a.createElement(Ce,{type:"namePressed",key:t[1],beltColor:t[0],clicked:function(){return e.clicked(t,"remove")}},e.persons[t[1]].name.split(" ")[0])})),a=r.a.createElement("button",{className:ea.a.buttonBig,type:"button",onClick:e.triggerSave},r.a.createElement("span",null,"Submit"));return void 0===e.testees?r.a.createElement("h3",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:ea.a.choiceBox},t," ",a)))},aa=a(50),na=a.n(aa),ra=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={currBeltColor:"White",testees:[]},e.switchBeltColor=function(t){e.setState({currBeltColor:t})},e.handleTestee=function(t,a){var n=e.state.testees;"add"===a&&n.push(t),"remove"===a&&(n=n.filter((function(e){return t[1]!==e[1]}))),e.setState({testees:n})},e.triggerSave=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.saveTestee(e.props.ggleID,e.state.testees);case 2:return t.next=4,e.props.onGgl(e.props.ggleID);case 4:e.props.resetButtons("backHome");case 5:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=null;return(this.props.saving||this.props.loading)&&(t=r.a.createElement(k,null)),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,{show:this.props.show&&!this.props.saving&&!this.props.loading,clicked:function(){return e.props.resetButtons("backHome")}}),r.a.createElement("div",{className:na.a.updateWrapper},r.a.createElement(Xt,{currBeltColor:this.state.currBeltColor,clicked:this.switchBeltColor}),r.a.createElement(Kt,{currBeltColor:this.state.currBeltColor,persons:this.props.persons,testees:this.state.testees,clicked:this.handleTestee}),r.a.createElement("div",{className:na.a.garoLineUpdate}),r.a.createElement(ta,{triggerSave:this.triggerSave,testees:this.state.testees,clicked:this.handleTestee,persons:this.props.persons})),t)}}]),a}(n.Component),la=Object(d.b)((function(e){return{persons:e.ggl.persons,saving:e.ggl.saving,loading:e.ggl.loading,ggleID:e.auth.ggleID}}),(function(e){return{saveTestee:function(t,a){return e(function(e,t){return function(){var a=Object(v.a)(f.a.mark((function a(n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"GGL_SAVE_START"}),S.post("/gglThisYear/save-testees",{ggleID:e,testees:t}),n({type:"GGL_SAVE_FINISH"});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},onGgl:function(t){return e(ee(t))}}}))(ra),sa=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={left:!1,right:!1,saving:!1},e.resetButtons=function(t){"startSaving"===t&&e.setState({saving:!0}),"finishSaving"!==t&&"backHome"!==t||e.setState({right:!1,left:!1,saving:!1})},e.toggleButtons=function(t){"left"===t?e.setState({left:!0}):e.setState({right:!0})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=Mt.a.leftButton+" "+(this.state.left?Mt.a.clicked:null),a=Mt.a.rightButton+" "+(this.state.right?Mt.a.clicked:null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Mt.a.outerBox},r.a.createElement("div",{className:Mt.a.buttonBox},r.a.createElement("button",{className:t,onClick:function(){return e.toggleButtons("left")}},"Add member"),r.a.createElement("button",{className:a,onClick:function(){return e.toggleButtons("right")}},"Update belt")),r.a.createElement(Ct,{show:this.state.left&&!this.state.saving,clicked:function(){return e.resetButtons("backHome")}}),this.state.left?r.a.createElement(zt,{resetButtons:this.resetButtons,isSaving:this.state.saving}):null,this.state.right?r.a.createElement(la,{show:this.state.right,resetButtons:this.resetButtons}):null,this.state.saving?r.a.createElement(k,null):null))}}]),a}(n.Component),oa=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.onLogOut(),this.props.onLogOutGgl(),this.props.onLogOutStat()}},{key:"render",value:function(){return r.a.createElement(p.a,{to:"/"})}}]),a}(n.Component),ca=Object(d.b)(null,(function(e){return{onLogOut:function(){return e({type:"AUTH_LOGOUT"})},onLogOutGgl:function(){return e({type:"GGL_LOGOUT"})},onLogOutStat:function(){return e({type:"STAT_LOGOUT"})}}}))(oa),ia=a(78),ua=a.n(ia);var pa=function(e){return r.a.createElement("div",{className:ua.a.ToggleButton,onClick:e.dropdownToggler},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},da=a(22),ma=a(51),ha=a.n(ma);var _a=function(e){return r.a.createElement("div",null,r.a.createElement("li",{className:ha.a.NavigationItem},r.a.createElement(da.b,{to:e.link,exact:e.exact,activeClassName:ha.a.active},e.children)))},ga=a(79),fa=a.n(ga);var va=function(e){var t=r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{link:"/authHome",exact:!0},"Home"),R?r.a.createElement(_a,{link:"/dailylog",exact:!0},"Attendance"):null,R?r.a.createElement(_a,{link:"/weeklylog",exact:!0},"Week"):null,R?r.a.createElement(_a,{link:"/updatemember",exact:!0},"Update"):null);return r.a.createElement("ul",{className:fa.a.NavigationItems},e.isAuth?null:r.a.createElement(_a,{link:"/",exact:!0},"Home"),e.isAuth?t:null,e.isAuth?r.a.createElement(_a,{link:"/logout",exact:!0},"LogOut"):r.a.createElement(_a,{link:"/auth",exact:!0},"LogIn"))},ba=a(52),Ca=a.n(ba);var Ea=function(e){var t="TKD-manager";return e.location&&(t=t+" @ "+e.location),r.a.createElement("div",{className:Ca.a.Toolbar},r.a.createElement(pa,{dropdownToggler:e.dropdownToggler}),r.a.createElement("div",{style:{color:"black",fontWeight:"bold"}},t),r.a.createElement("nav",{className:Ca.a.DesktopOnly},r.a.createElement(va,{isAuth:e.isAuth})))},ya=a(37),ka=a.n(ya);var Ba=function(e){var t=[ka.a.Dropdown,ka.a.Close];return e.open&&(t=[ka.a.Dropdown]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.join(" "),onClick:e.dropdownCloser},r.a.createElement("nav",null,r.a.createElement(va,{isAuth:e.isAuth}))))},Sa=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={showDropdown:!1},e.dropdownToggler=function(){e.setState((function(e){return{showDropdown:!e.showDropdown}}))},e.dropdownCloser=function(){e.setState({showDropdown:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ea,{dropdownToggler:this.dropdownToggler,isAuth:this.props.isAuthenticated,location:this.props.location}),r.a.createElement(Ba,{isAuth:this.props.isAuthenticated,open:this.state.showDropdown,dropdownCloser:this.dropdownCloser}),r.a.createElement("main",null,this.props.children))}}]),a}(n.Component),Ta=Object(d.b)((function(e){return{isAuthenticated:null!==e.auth.token,location:e.auth.location}}))(Sa),Aa=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/auth",component:Ke}),r.a.createElement(p.b,{path:"/",exact:!0,component:_}),r.a.createElement(p.a,{to:"/"}));return this.props.isAuthenticated&&(e=r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/authHome",component:Ue}),r.a.createElement(p.b,{exact:!0,path:"/dailylog",component:function(){return r.a.createElement(It,null)}}),r.a.createElement(p.b,{exact:!0,path:"/weeklylog",component:Wt}),r.a.createElement(p.b,{exact:!0,path:"/updatemember",component:sa}),r.a.createElement(p.b,{exact:!0,path:"/logout",component:ca}),r.a.createElement(p.a,{to:"/authHome"}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ta,null,e))}}]),a}(n.Component),Da=Object(p.g)(Object(d.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))(Aa)),Ia=a(80),wa=a(24),Na={keyList:[],dailyStat:{},currActivity:null,saving:!1,loading:!1,dataLoaded:!1},Oa=function(e,t){return Pe(e,{loading:!0})},xa=function(e,t){return Pe(e,{loading:!1,dataLoaded:!0})},ja=function(e,t){return delete t.type,Pe(e,Object(D.a)({},t))},La=function(e,t){return Pe(e,Na)},Ga=function(e,t){return Pe(e,{saving:!0})},Ra=function(e,t){return Pe(e,{saving:!1})},Wa=function(e,t){return Pe(e,{currActivity:null})},Fa=function(e,t){return Pe(e,{currActivity:t.currActivity})},Ma=function(e,t){var a=Object(D.a)({},e.dailyStat);return a[t.currActivity]=t.number,Pe(e,{currActivity:null,dailyStat:a})},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STAT_LOAD_START":return Oa(e);case"STAT_LOAD_SUCCESS":return ja(e,t);case"STAT_LOAD_FINISH":return xa(e);case"STAT_SAVE_START":return Ga(e);case"STAT_SAVE_FINISH":return Ra(e);case"STAT_LOGOUT":return La(e);case"SET_CURRENT_ACTIVITY":return Fa(e,t);case"UPDATE_ACTIVITY":return Ma(e,t);case"INIT_ACTIVITY":return Wa(e);default:return e}},Ua={classTable:{},classNameTable:{},classToday:[],classAttender:{},currClass:null,currClassID:null,currBelt:"White",persons:[],loading:!1,saving:!1,dataLoaded:!1,error:null,attenderTouched:!1,personalAttendance:[]},Ya=function(e,t){return Pe(e,{loading:!0})},Pa=function(e,t){return Pe(e,{loading:!1,dataLoaded:!0})},Va=function(e,t){return Pe(e,{saving:!0})},za=function(e,t){return Pe(e,{saving:!1})},qa=function(e,t){return delete t.type,Pe(e,Object(D.a)({},t))},Ja=function(e,t){return Pe(e,Ua)},Xa=function(e,t){return Pe(e,{currClass:null,currClassID:null})},Qa=function(e,t){var a=null;return e.classToday.forEach((function(e){e[1]===t.currClass&&(a=e[0])})),Pe(e,{currClass:t.currClass,currClassID:a})},Za=function(e,t){return Pe(e,{currBelt:t.currBelt})},Ka=function(e,t){var a=e.classAttender[e.currClass];return a.push([e.persons[t.id].belt,t.id]),Pe(e,{classAttender:Pe(e.classAttender,Object(Ye.a)({},e.currClass,a)),attenderTouched:!0})},$a=function(e,t){var a=e.classAttender[e.currClass];for(var n in a)if(a[n][1]===t.id){a.splice(n,1);break}return Pe(e,{classAttender:Pe(e.classAttender,Object(Ye.a)({},e.currClass,a)),attenderTouched:!0})},en=function(e,t){var a=e.classAttender[e.currClass].map((function(e){return e[1]})),n=e.persons.map((function(t){var n=!1,r=t.attClass,l=a.includes(t.id),s=t.attClass.includes(e.currClass);return l!==s&&(s?(r=t.attClass.filter((function(t){return t!==e.currClass})),n=!0):(t.attClass.push(e.currClass),n=!0)),Pe(t,{attClass:r,needGglUpdate:n})}));return S.post("/gglThisYear/update-persons",{ggleID:t.ggleID,members:n}),S.post("/gglStats/submit",{statsGglID:t.statsGglID,locationID:t.locationID,name:e.currClassID,number:a.length}),Pe(e,{persons:n,currClass:null,currClassID:null,attenderTouched:!1,personalAttendance:[]})},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GGL_LOAD_START":return Ya(e);case"GGL_LOAD_SUCCESS":return qa(e,t);case"GGL_LOAD_FINISH":return Pa(e);case"GGL_SAVE_START":return Va(e);case"GGL_SAVE_FINISH":return za(e);case"SET_CURRENT_CLASS":return Qa(e,t);case"SET_CURRENT_BELT":return Za(e,t);case"UPDATE_PERSONS_WITH_CLASS_ATTENDER":return en(e,t);case"REMOVE_FROM_CLASS_ATTENDER":return $a(e,t);case"ADD_TO_CLASS_ATTENDER":return Ka(e,t);case"GGL_LOGOUT":return Ja(e);case"RESET_CURRCLASS":return Xa(e);default:return e}},an={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/authHome",email:null,ggleID:null,statsGglID:null,location:null,locationID:null,lastYearGglID:null},nn=function(e,t){return Pe(e,{error:null,loading:!0})},rn=function(e,t){return Pe(e,{token:t.idToken,userId:t.userId,error:null,email:t.email})},ln=function(e,t){return Pe(e,{error:t.error,loading:!1})},sn=function(e,t){return Pe(e,{ggleID:t.ggleID,statsGglID:t.statsGglID,location:t.location,locationID:t.locationID,lastYearGglID:t.lastYearGglID,error:null,loading:!1})},on=function(e,t){return Pe(e,{token:null,userId:null,email:null,ggleID:null,location:null,locationID:null,lastYearGglID:null})},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return nn(e);case"AUTH_SUCCESS":return rn(e,t);case"AUTH_FAIL":return ln(e,t);case"AUTH_LOGOUT":return on(e);case"GGL_ID_FETCH_SUCCESS":return sn(e,t);default:return e}},un=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||wa.d,pn=Object(wa.c)({stats:Ha,ggl:tn,auth:cn}),dn=Object(wa.e)(pn,un(Object(wa.a)(Ia.a))),mn=r.a.createElement(d.a,{store:dn},r.a.createElement(da.a,null,r.a.createElement(Da,null)));s.a.render(mn,document.getElementById("root"))}],[[81,1,2]]]);
//# sourceMappingURL=main.c44ec7af.chunk.js.map